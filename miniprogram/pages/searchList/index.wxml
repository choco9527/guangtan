<wxs src="../../tools.wxs" module="tools"/>

<view class="search-page">
    <van-sticky>
        <van-nav-bar>
            <view slot="left">
                <van-search shape="round" value="{{ search }}"
                            bind:search="onSearch"
                            placeholder="æƒ³åƒçš„ðŸ”"
                            clearable
                            custom-class="c-search"
                />

            </view>
        </van-nav-bar>
        <van-dropdown-menu>
            <van-dropdown-item value="{{ value1 }}" options="{{ option1 }}"/>
            <van-dropdown-item value="{{ value2 }}" options="{{ option2 }}"/>
        </van-dropdown-menu>
    </van-sticky>

    <van-empty wx:if="{{!list.length}}" image="search"/>
    <scroll-view scroll-y
                 bindscrolltolower="onScrollToEnd"
                 lower-threshold="20px"
                 refresher-enabled
                 bindrefresherrefresh="onPullDown"
                 enable-passive
                 refresher-triggered="{{ pulling }}"
                 class="main-list"
                 wx:if="{{list.length}}"
    >

        <view wx:for="{{list}}" wx:key="aid">
            <van-card title="{{ item.title }}" data-id="{{ item._id }}" bind:tap="toDetail">
                <van-row slot="desc" class="text-sec fs-12">
                    <van-col span="6">
                        <van-icon name="fire"/>
                        <text>{{ tools.getWeight(item.v_stat) }}</text>
                    </van-col>
                </van-row>
                <view slot="thumb">
                    <image mode="widthFix" class="w-88 h-56 br-4 over-hide" src="{{item.pic}}"></image>
                </view>
                <view slot="price-top">
                </view>
                <view slot="price">
                </view>
            </van-card>
        </view>
    </scroll-view>
</view>
