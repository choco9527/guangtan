<view class="user-page">

    <van-cell-group inset>
        <van-cell title="头像">
            <view>
                <button class="wrapper-btn" open-type="chooseAvatar"
                        bind:chooseavatar="onChooseAvatar">
                    <van-image
                            wx:if="{{avatarUrl}}"
                            round
                            width="40px"
                            height="40px"
                            src="{{avatarUrl}}"
                    />
                    <text class="fs-10" wx:else>设置头像</text>
                </button>
            </view>
        </van-cell>
        <van-cell title="昵称" value="{{nickname}}" bind:tap="showDialog"/>
    </van-cell-group>
    <van-dialog
            use-slot
            title="修改昵称"
            show="{{ show }}"
            showConfirmButton="{{false}}"
            closeOnClickOverlay
            transition="fade"
            custom-class="nick-dialog"
    >
        <form bindsubmit="formsubmit">
            <input class="sub-input" type="nickname" placeholder="请输入新昵称" name="nickname"/>
            <button class="sub-btn" form-type="submit" type="primary">提交</button>
        </form>
    </van-dialog>

</view>
